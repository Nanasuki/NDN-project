(function(e){function t(t){for(var o,i,l=t[0],s=t[1],d=t[2],c=0,u=[];c<l.length;c++)i=l[c],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&u.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);h&&h(t);while(u.length)u.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0377":function(e,t,n){},2395:function(e,t,n){},2636:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i=(n("7c55"),n("2877")),l={},s=Object(i["a"])(l,a,r,!1,null,null,null),d=s.exports,h=n("8c4f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("topology")],1)},u=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("el-dialog",{attrs:{title:"自定义拓扑结构",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"30%"}},[n("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","margin-bottom":"10px"}},[n("el-alert",{attrs:{title:"最多支持三层拓扑结构",type:"warning",center:"","show-icon":"",closable:!1}}),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.showSelfDefineTopology}},[e._v("查看拓扑结构")])],1),n("el-tree",{attrs:{data:e.treeData,"node-key":"name","default-expand-all":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(o.data.name))]),n("span",[n("el-dropdown",{on:{command:e.handleAddCommand}},[a.level<3&&"node"!==a.type?n("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#409EFF","margin-right":"20px"}},[e._v(" 新增"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]):e._e(),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:"node"===a.type||"hub"===a.type,command:{type:"bridge",node:o}}},[e._v("Bridge")]),n("el-dropdown-item",{attrs:{disabled:"node"===a.type||"hub"===a.type,command:{type:"hub",node:o}}},[e._v("Hub")]),n("el-dropdown-item",{attrs:{command:{type:"node",node:o}}},[e._v("node")])],1)],1),n("el-button",{directives:[{name:"show",rawName:"v-show",value:1!==a.level,expression:"data.level !== 1"}],staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"mini"},on:{click:function(){return e.treeRemove(o,a)}}},[e._v(" 删除 ")])],1)])}}])})],1),n("div",{staticStyle:{width:"70%","min-height":"500px"}},[n("div",{staticStyle:{height:"100%",width:"100%","background-color":"rgb(233, 233, 235)"},attrs:{id:"selfTopologyChart"}})])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSelfDefineConfirm}},[e._v("确 定")])],1)]),n("div",{staticClass:"main-box",style:{width:.6*e.windowWidth+"px",height:e.windowHeight+"px"}},[n("h3",[e._v("工具栏")]),n("div",{staticClass:"form-box"},[n("el-form",{ref:"form",staticStyle:{width:"90%"},attrs:{inline:!0,model:e.toolForm,"label-position":"right"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"消息提示:"}},[n("el-switch",{model:{value:e.toolForm.showSendText,callback:function(t){e.$set(e.toolForm,"showSendText",t)},expression:"toolForm.showSendText"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"自动随机发送:"}},[n("el-switch",{on:{change:e.handleAutoSendChange},model:{value:e.toolForm.autoSend,callback:function(t){e.$set(e.toolForm,"autoSend",t)},expression:"toolForm.autoSend"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"随机帧个数:"}},[n("el-input-number",{attrs:{disabled:!e.toolForm.autoSend,size:"small",min:0,max:4},model:{value:e.randomCount,callback:function(t){e.randomCount=t},expression:"randomCount"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"手动模拟:"}},[n("el-switch",{on:{change:e.handleHandSendChange},model:{value:e.toolForm.handSend,callback:function(t){e.$set(e.toolForm,"handSend",t)},expression:"toolForm.handSend"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"帧个数:"}},[n("el-input-number",{attrs:{disabled:!e.toolForm.handSend,size:"small",min:0,max:4},model:{value:e.randomCount,callback:function(t){e.randomCount=t},expression:"randomCount"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"下一步:"}},[n("el-button",{attrs:{type:"primary",size:"small",disabled:!e.toolForm.handSend,loading:e.toolForm.handWaiting},on:{click:e.handGenerateLines}},[e._v("下一步 ")])],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"自定义:"}},[n("el-button",{attrs:{type:"warning",size:"small",disabled:!e.toolForm.handSend},on:{click:e.handleSelfDefine}},[e._v(" 自定义拓扑结构 ")])],1)],1)],1)],1)],1),n("div",{staticStyle:{height:"80%",width:"100%"},attrs:{id:"topologyChart"}})]),n("div",{staticClass:"info-box",style:{width:.4*e.windowWidth+"px",height:e.windowHeight+"px"}},[n("h3",[e._v("运行信息")]),n("el-descriptions",{attrs:{column:3,border:""}},[n("el-descriptions-item",{attrs:{label:"节点个数"}},[e._v(e._s(this.nodeCount))]),n("el-descriptions-item",{attrs:{label:"网桥个数"}},[e._v(e._s(this.bridgeCount))]),n("el-descriptions-item",{attrs:{label:"集线器个数"}},[e._v(e._s(this.hubCount))]),n("el-descriptions-item",{attrs:{label:"发送MAC帧总数"}},[n("span",{staticClass:"p-wrapper"},[e._v(e._s(this.msgSendCount))])]),n("el-descriptions-item",{attrs:{label:"接受MAC帧总数"}},[n("span",{staticClass:"p-wrapper"},[e._v(e._s(this.msgReceiveCount))])]),n("el-descriptions-item",{attrs:{label:"成功率"}},[n("span",{staticClass:"p-wrapper"},[e._v(e._s(e.successRate))])]),n("el-descriptions-item",{attrs:{label:"启动时长"}},[n("TimeCountDown")],1),n("el-descriptions-item",{attrs:{label:"统计周期"}},[e._v(e._s(this.transmissionTime)+"s/次")]),n("el-descriptions-item",{attrs:{label:"MAC帧传输模拟用时"}},[e._v(e._s(this.transmissionTime)+"s")])],1),n("h3",[e._v("网桥转发表")]),n("div",{staticStyle:{display:"flex"}},e._l(e.forwardTables,(function(t,o){return n("div",{key:t.name,staticClass:"table-box"},[n("el-button",{staticStyle:{float:"left"},attrs:{size:"small",plain:"",type:"primary",loading:e.tableLoading},on:{click:function(t){return e.refreshForwardTable(o)}}},[e._v("清空转发表 ")]),n("span",{staticClass:"title-info"},[e._v(e._s(t.name))]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{border:"",stripe:"",data:t.data}},[n("el-table-column",{attrs:{prop:"name",label:"节点名/地址"}}),n("el-table-column",{attrs:{prop:"port",label:"端口"}}),n("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1)],1)})),0)],1)],1)},g=[],f=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("b680"),n("a9e3"),n("b0c0"),n("159b"),n("4e82"),n("c740"),n("a434"),n("313e")),p="image://data:image/png;base64,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",y="image://data:image/png;base64,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",b="image://data:image/png;base64,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",v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"time-wrapper"},[e._v(e._s(e.hour)+"h:"+e._s(e.minute)+"m:"+e._s(e.second)+"s")])])},x=[],A={name:"TimeCountDown",data:function(){return{day:"0",hour:"0",minute:"0",second:"0",createdTime:null}},created:function(){this.createdTime=new Date},mounted:function(){this.countTime()},methods:{countTime:function(){var e=new Date,t=e-this.createdTime;t>0&&(this.day=this.checkedZero(Math.floor(t/1e3/60/60/24)),this.hour=this.checkedZero(Math.floor(t/1e3/60/60%24)),this.minute=this.checkedZero(Math.floor(t/1e3/60%60)),this.second=this.checkedZero(Math.floor(t/1e3%60))),setTimeout(this.countTime,1e3)},checkedZero:function(e){return e<9&&(e="0".concat(e)),e}}},w=A,C=(n("921c"),Object(i["a"])(w,v,x,!1,null,"331af9df",null)),S=C.exports;function B(e,t){switch(arguments.length){case 1:return Math.floor(Math.random()*e+1);case 2:return Math.floor(Math.random()*(t-e+1)+e);default:return 0}}var M=["#ed1941","#1B9637","#2E2AA4","#ffe600","#feeeed","#5f3c23","#5e7c85"];function N(){var e=B(0,M.length-1);return M[e]}function T(){var e=new Date,t=(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return t+":"+n+":"+o}var O={name:"Bridge-1",type:"bridge",number:"",children:[{name:"Bridge-2",type:"bridge",number:"",children:[{ifend:"1",type:"node",name:"node-1"},{ifend:"1",type:"node",name:"node-2"},{ifend:"1",type:"node",name:"node-3"}]},{ifend:"1",type:"node",name:"node-4",number:""},{ifend:"1",type:"node",name:"node-5",number:""},{ifend:"1",type:"node",name:"node-10",number:""},{ifend:"1",type:"node",name:"node-11",number:""},{name:"Hub-1",type:"hub",number:"",children:[{type:"node",code:"",ifend:"1",name:"node-6",number:""},{type:"node",code:"",ifend:"1",name:"node-7",number:""},{type:"node",code:"",ifend:"1",name:"node-8",number:""},{type:"node",code:"",ifend:"1",name:"node-9",number:""}]}]},I={name:"topology",components:{TimeCountDown:S},data:function(){return{treeData:[{name:"Bridge-1",type:"bridge",level:1,children:[{name:"Bridge-2",type:"bridge",level:2,children:[{name:"node-1",type:"node",level:3},{name:"node-2",type:"node",level:3}]},{name:"node-3",type:"node",level:2}]}],treeNodeCount:3,treeBridgeCount:2,treeHubCount:0,dialogVisible:!1,toolForm:{showSendText:!0,autoSend:!0,handSend:!1,handWaiting:!1},transmissionTime:2,periodTime:2,randomCount:1,topologyChart:{},graphInfo:{},lines:[],globalStatus:new Map,timer:null,bridgeCount:0,hubCount:0,nodeCount:0,forwardTables:[],tableLoading:!1,msgSendCount:0,msgReceiveCount:0}},mounted:function(){this.initEcharts(O),this.startTimer()},computed:{windowHeight:function(){return document.documentElement.clientHeight},windowWidth:function(){return document.documentElement.clientWidth},successRate:function(){if(0===this.msgSendCount)return"NaN";var e=Number(this.msgReceiveCount/this.msgSendCount*100).toFixed(2);return e+"%"}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},methods:{startTimer:function(){this.timer=setInterval(this.autoGenerateLines,1e3*this.periodTime)},initEcharts:function(e){this.topologyChart=f["a"](document.getElementById("topologyChart"));var t=this.initCartesian2dInfo(e);this.graphInfo=this.initTopologyInfo(t,!0);var n={backgroundColor:"#f5f5f5",xAxis:{show:!1,type:"value",max:this.graphInfo.len[0],min:this.graphInfo.len[1]},yAxis:{show:!1,type:"value",max:this.graphInfo.leny[0],min:this.graphInfo.leny[1]-10},tooltip:{},series:[{name:"topology",type:"graph",zlevel:5,draggable:!1,coordinateSystem:"cartesian2d",label:{show:!0,color:"#000",position:"bottom"},data:this.graphInfo.data,links:this.graphInfo.links,lineStyle:{opacity:1,width:2}},{type:"lines",name:"macFrame",coordinateSystem:"cartesian2d",zlevel:1,animation:!1,effect:{show:!0,period:this.transmissionTime,trailLength:.01,symbolSize:12,symbol:"circle",loop:!0},data:this.lines,lineStyle:{width:0}}]};this.topologyChart.setOption(n)},initCartesian2dInfo:function(e){if(e.x=0,e.y=0,!Object.prototype.hasOwnProperty.call(e,"children"))return e.len=[1,-1],e.leny=[1,9],e;var t=e.children,n=parseInt(t.length/2),o=t.length-n,a=this.getSum(t,0,n),r=this.getSum(t,o-1,t.length);t=this.sortData(t,n,o),e.children=t;for(var i,l=n>9||0===a?300:200,s=o>9||0===r?300:200,d=[-1e5,1e5],h=[-1e5,1e5],c=0;c<t.length;c++)if(c<n?(t[c].x=this.getLocation(n,e.x,c+1),t[c].y=e.y+l,t[c].fx=this.getFX(n,c,!1)):(t[c].x=this.getLocation(o,e.x,c-n+1),t[c].y=e.y-s,t[c].fx=this.getFX(o,c-n,!0)),this.getMaxMin(d,t[c].x),this.getMaxMin(h,t[c].y),Object.prototype.hasOwnProperty.call(t[c],"children"))for(var u=t[c].children,m=0;m<u.length;m++)c<n?(u[m].x=this.getLocation(u.length,t[c].x,m+1),u[m].y=t[c].y+200,u[m].fx=this.getFX(u.length,m,!1)):(u[m].x=this.getLocation(u.length,t[c].x,m+1),u[m].y=t[c].y-200,u[m].fx=this.getFX(u.length,m,!0)),this.getMaxMin(d,u[m].x),this.getMaxMin(h,u[m].y);if(n%2===0){if(i=n/2,t[i].hasOwnProperty("children")&&t[i-1].hasOwnProperty("children")&&t[i].children[0].x<t[i].x-50){var g=50-t[i].children[0].x;for(m=0;m<t[i].children.length;m++)t[i].children[m].x=t[i].children[m].x+g,this.getMaxMin(d,t[i].children[m].x);t[i].x=this.getLocation2(t[i].children)}}else i=parseInt(n/2);for(c=i+1;c<n;c++)if(t[c].hasOwnProperty("children")&&t[c-1].hasOwnProperty("children")&&t[c-1].children[t[c-1].children.length-1].x-t[c].children[0].x>-100){for(g=t[c-1].children[t[c-1].children.length-1].x+100-t[c].children[0].x,m=0;m<t[c].children.length;m++)t[c].children[m].x=t[c].children[m].x+g,this.getMaxMin(d,t[c].children[m].x);t[c].x=this.getLocation2(t[c].children)}for(c=i-1;c>=0;c--)if(t[c].hasOwnProperty("children")&&t[c+1].hasOwnProperty("children")&&t[c+1].children[0].x-t[c].children[t[c].children.length-1].x<100){for(g=t[c].children[t[c].children.length-1].x-(t[c+1].children[0].x-100),m=0;m<t[c].children.length;m++)t[c].children[m].x=t[c].children[m].x-g,this.getMaxMin(d,t[c].children[m].x);t[c].x=this.getLocation2(t[c].children)}if(o%2===0){if(i=o/2+n,t[i].hasOwnProperty("children")&&t[i-1].hasOwnProperty("children")&&t[i].children[0].x<t[i].x-50){for(g=50-t[i].children[0].x,m=0;m<t[i].children.length;m++)t[i].children[m].x=t[i].children[m].x+g,this.getMaxMin(d,t[i].children[m].x);t[i].x=this.getLocation2(t[i].children)}}else i=parseInt(o/2)+n;for(c=i+1;c<t.length;c++)if(t[c].hasOwnProperty("children")&&t[c-1].hasOwnProperty("children")&&t[c-1].children[t[c-1].children.length-1].x-t[c].children[0].x>-100){for(g=t[c-1].children[t[c-1].children.length-1].x+100-t[c].children[0].x,m=0;m<t[c].children.length;m++)t[c].children[m].x=t[c].children[m].x+g,this.getMaxMin(d,t[c].children[m].x);t[c].x=this.getLocation2(t[c].children)}for(c=i-1;c>=n;c--)if(t[c].hasOwnProperty("children")&&t[c+1].hasOwnProperty("children")&&t[c+1].children[0].x-t[c].children[t[c].children.length-1].x<100){for(g=t[c].children[t[c].children.length-1].x-(t[c+1].children[0].x-100),m=0;m<t[c].children.length;m++)t[c].children[m].x=t[c].children[m].x-g,this.getMaxMin(d,t[c].children[m].x);t[c].x=this.getLocation2(t[c].children)}return d[0]-d[1]<=400&&(d[0]=d[0]+100,d[1]=d[1]-100),e.len=d,e.leny=h,e},initTopologyInfo:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},o=[],a=[];return this.generateGraphLinksAndNodes(e,e,o,a,t),console.log("globalStatus",this.globalStatus),n.data=o,n.links=a,n.len=e.len,n.leny=e.leny,n},showSelfDefineTopology:function(){var e=f["a"](document.getElementById("selfTopologyChart")),t=this.treeData[0],n=this.initCartesian2dInfo(t),o=this.initTopologyInfo(n,!1),a={backgroundColor:"#f5f5f5",xAxis:{show:!1,type:"value",max:o.len[0],min:o.len[1]},yAxis:{show:!1,type:"value",max:o.leny[0],min:o.leny[1]-10},tooltip:{},series:[{name:"topology",type:"graph",zlevel:5,draggable:!1,coordinateSystem:"cartesian2d",label:{show:!0,color:"#000",position:"bottom"},data:o.data,links:o.links,lineStyle:{opacity:1,width:2}}]};e.setOption(a)},handleSelfDefineConfirm:function(){this.dialogVisible=!1,this.lines=[],this.globalStatus=new Map,this.bridgeCount=0,this.hubCount=0,this.nodeCount=0,this.msgSendCount=0,this.msgReceiveCount=0,this.forwardTables=[];var e=this.treeData[0];this.initEcharts(e)},handGenerateLines:function(){this.toolForm.handWaiting=!0,this.generateLines(),this.toolForm.handWaiting=!1},autoGenerateLines:function(){this.toolForm.autoSend&&this.generateLines()},refreshForwardTable:function(e){if(this.forwardTables[e]){this.tableLoading=!0;var t=this.forwardTables[e].name;this.globalStatus.get(t).forwardTable.clear(),this.forwardTables[e].data=[],this.tableLoading=!1}},generateLines:function(){this.topologyChart.setOption({series:[{name:"macFrame",data:[]}]});for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t],o=this.globalStatus.get(n.endNodeName),a={};if("bridge"===o.type){var r=o.forwardTable.get(n.sourceNodeName);if(null==r||r==={}){for(var i="--",l=0;l<o.accessPoint.length;l++)if(o.accessPoint[l].name===n.startNodeName){i=o.accessPoint[l].port;break}o.forwardTable.set(n.sourceNodeName,{port:i,nextName:n.startNodeName,updateTime:T()})}else o.forwardTable.set(n.sourceNodeName,{port:r.port,nextName:r.nextName,updateTime:T()});var s=o.forwardTable.get(n.targetNodeName);if(null==s||s==={})for(var d=0;d<o.accessPoint.length;d++)if(o.accessPoint[d].name===n.startNodeName);else{var h=this.generateLineInfo(o,o.accessPoint[d],n.sourceNodeName,n.targetNodeName,n.lineStyle.color);e.push(h)}else{a=this.globalStatus.get(s.nextName);var c=this.generateLineInfo(o,a,n.sourceNodeName,n.targetNodeName,n.lineStyle.color);e.push(c)}}else if("hub"===o.type){for(var u=0;u<o.accessPoint.length;u++)if(o.accessPoint[u].name!==n.startNodeName){var m=this.generateLineInfo(o,o.accessPoint[u],n.sourceNodeName,n.targetNodeName,n.lineStyle.color);e.push(m)}}else if("node"===o.type&&o.name===n.targetNodeName){if(this.msgReceiveCount++,this.toolForm.showSendText){var g="["+o.name+"] received from ["+n.sourceNodeName+"]";this.$notify({title:"接收成功",message:g,position:"bottom-left",type:"success",duration:2e3})}console.log("congratulations! the ["+o.name+"] has received the MAC Frame from the ["+n.sourceNodeName+"] successfully.")}}for(var f=0;f<this.randomCount;f++){var p=this.generateRandomNodes(),y=p[0],b=p[0],v=this.globalStatus.get(b.name).accessPoint[0],x=p[1];console.log("mac frame send from: "+y.name+", to: "+x.name);var A=this.generateLineInfo(b,v,y.name,x.name,"",!0);e.push(A),this.msgSendCount++}this.lines=e,this.topologyChart.setOption({series:[{name:"macFrame",data:this.lines}]});var w=[];this.globalStatus.forEach((function(e){if("bridge"===e.type){var t={name:e.name,data:[]};e.forwardTable.forEach((function(e,n){var o={name:n,port:e.port,nextName:e.port,updateTime:e.updateTime};t.data.push(o)})),t.data.sort((function(e,t){var n=e.updateTime,o=t.updateTime;return n<o?1:n>o?-1:0})),w.push(t)}})),this.forwardTables=w},handleHandSendChange:function(e){e&&(this.toolForm.autoSend=!1),this.lines=[],this.topologyChart.setOption({series:[{name:"macFrame",data:this.lines}]})},handleAutoSendChange:function(e){e?this.toolForm.handSend=!1:(this.lines=[],this.topologyChart.setOption({series:[{name:"macFrame",data:this.lines}]}))},handleSelfDefine:function(){this.dialogVisible=!0},treeRemove:function(e,t){var n=e.parent,o=n.data.children||n.data,a=o.findIndex((function(e){return e.name===t.name}));o.splice(a,1),"bridge"===t.type?this.treeBridgeCount--:"hub"===t.type?this.treeHubCount--:"node"===t.type&&this.treeNodeCount--},handleAddCommand:function(e){console.log("handleAddCommand",e);var t="",n=e.node.data.level+1;"bridge"===e.type?t="Bridge-"+ ++this.treeBridgeCount:"hub"===e.type?t="Hub-"+ ++this.treeHubCount:"node"===e.type&&(t="node-"+ ++this.treeNodeCount);var o={};o="node"===e.type||n>=3?{name:t,type:e.type,ifend:"1",level:n}:{name:t,type:e.type,level:n},e.node.data.children||this.$set(e.node.data,"children",[]),e.node.data.children.push(o)},generateLineInfo:function(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];null!=a&&""!==a||(a=N());var i=[];i.push(e.coords),i.push(t.coords);var l="";return r&&(l="To "+o),{coords:i,startNodeName:e.name,endNodeName:t.name,sourceNodeName:n,targetNodeName:o,lineStyle:{curveness:0,color:a},label:{show:!0,formatter:l,position:"middle",color:"#E6A23C",fontSize:14}}},generateRandomNodes:function(){var e=this.randomNum(1,this.nodeCount),t=this.randomNum(1,this.nodeCount);while(e===t)t=this.randomNum(1,this.nodeCount);var n="node-"+e,o="node-"+t,a=this.globalStatus.get(n),r=this.globalStatus.get(o);return[a,r]},generateGraphLinksAndNodes:function(e,t,n,o){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(void 0!==t&&null!=t){this.computeNodeCount(t.type);var r={name:t.name,tooltip:{formatter:"{b}"},label:{show:!0,position:"bottom",distance:8,formatter:t.name,fontSize:16,fontWeight:"bold"},symbol:this.selectIcon(t.type),symbolSize:[64,64],value:[t.x,t.y],ifend:t.ifend,fx:t.fx};n.push(r);var i=[];if("children"in t){for(var l=t.children,s=0;s<l.length;s++){var d=this.generateGraphLinkInfo(t,l[s],s+1);o.push(d);var h={name:l[s].name,fx:l[s].fx,type:l[s].type,coords:[l[s].x,l[s].y],port:d.port};i.push(h),this.generateGraphLinksAndNodes(t,l[s],n,o)}if(null!=e&&e!==t&&"bridge"===e.type&&"bridge"===t.type){var c=this.generateGraphLinkInfo(t,e,l.length+1);o.push(c);var u={name:e.name,type:e.type,fx:e.fx,coords:[e.x,e.y],port:c.port};i.push(u)}if(null!=e&&"bridge"===e.type&&"hub"===t.type){var m={name:e.name,type:e.type,fx:e.fx,coords:[e.x,e.y],port:"--"};i.push(m)}}else{var g={name:e.name,type:e.type,fx:e.fx,coords:[e.x,e.y],curveness:1===t.fx?.1:-.1,code:t.code,port:"--"};i.push(g)}"bridge"===t.type?a&&this.globalStatus.set(t.name,{name:t.name,fx:t.fx,type:t.type,coords:[t.x,t.y],accessPoint:i,forwardTable:new Map}):a&&this.globalStatus.set(t.name,{name:t.name,fx:t.fx,type:t.type,coords:[t.x,t.y],curveness:1===t.fx?.1:-.1,code:t.code,accessPoint:i})}},generateGraphLinkInfo:function(e,t,n){var o=0,a="2"===t.code||2===t.code?"#C75050":"#53B5EA",r=[0,0,0,0],i="";if("bridge"===e.type){var l=[t.x-e.x,t.y-e.y];r=this.generatePadding(l),i="P-"+n}return{source:e.name,target:t.name,port:i,lineStyle:{curveness:o,color:a},label:{show:!0,position:"middle",padding:r,formatter:i,fontSize:14,fontWeight:"bold",color:"#f759ab"}}},generatePadding:function(e){var t=[0,0,0,0];if(0===e[0]&&e[1]<0){var n=Math.abs(.4*e[1]);t=[0,n,0,0]}else if(0===e[0]&&e[1]>0){var o=Math.abs(.4*e[1]);t=[0,o,-20,0]}else if(e[0]>0){e[1],e[0];var a=Math.abs(e[0]),r=Math.abs(.05*e[1]);t=(e[1],[0,0,-r,-a])}else if(e[0]<0){e[1],e[0];var i=Math.abs(e[0]),l=Math.abs(.05*e[1]);t=(e[1],[0,0,-l,i])}return t},selectIcon:function(e){return"bridge"===e?p:"hub"===e?b:y},format2:function(e){if(!e.hasOwnProperty("children"))return e;for(var t=e.children,n=parseInt(t.length/2),o=(t.length,e.len),a=0;a<t.length;a++)if(!t[a].hasOwnProperty("children"))if(a>0&&a!=n&&t[a-1].hasOwnProperty("children")&&t[a-1].children.length>5){var r=(t[a-1].children.length-5)/2;t[a].x=t[a].x+100*r;var i=!1;h=a<n?n:t.length;for(var l=a+1;l<h;l++){if(i=!0,t[l].x=t[l].x+100*r,t[l].hasOwnProperty("children"))for(var s=t[l].children,d=0;d<s.length;d++)s[d].x=s[d].x+100*r,this.getMaxMin(o,s[d].x);this.getMaxMin(o,t[l].x)}i&&(t[a].x=t[a].x>o[0]?o[0]:t[a].x)}else if(a<t.length-1&&t[a+1].hasOwnProperty("children")&&t[a+1].children.length>5){r=(t[a+1].children.length-5)/2;t[a].x=t[a].x-100*r;var h;i=!1;h=a<n?0:n;for(l=a-1;l>=h;l--){if(i=!0,t[l].x=t[l].x-100*r,t[l].hasOwnProperty("children"))for(s=t[l].children,d=0;d<s.length;d++)s[d].x=s[d].x-100*r,this.getMaxMin(o,s[d].x);this.getMaxMin(o,t[l].x)}i&&(t[a].x=t[a].x<o[1]?o[1]:t[a].x)}return o[0]-o[1]<=400&&(o[0]=o[0]+100,o[1]=o[1]-100),e.len=o,e},getLocation:function(e,t,n){if(e%2===0){var o=e/2-n;t=t-50-100*o}else{var a=parseInt(e/2+1)-n;t-=100*a}return t},getLocation2:function(e){var t,n=e.length;if(n%2===0){var o=n/2;t=e[o-1].x+50}else{var a=parseInt(n/2+1);t=e[a-1].x}return t},getFX:function(e,t,n){var o,a;return e<1?1:(a=e%2===0?e/2:parseInt(e/2)+1,o=t<a?1:-1,n&&(o=-o),o)},getSum:function(e,t,n){n>e.length&&(n=e.length);for(var o=0,a=t;a<n;a++)if(e[a].hasOwnProperty("children")){var r=e[a].children;o+=r.length}return o},sortData:function(e,t,n){for(var o=[],a=t-1,r=0,i=0;i<t-1;i++){for(var l=1,s=0;s<a;s++){var d=e[s].hasOwnProperty("children")?e[s].children.length:0,h=e[s+1].hasOwnProperty("children")?e[s+1].children.length:0;if(d>h){var c=e[s];e[s]=e[s+1],e[s+1]=c,l=0,r=s}}if(a=r,1===l)break}for(i=0;i<t;i++)i%2===0?o[i/2]=e[i]:o[t-(i+1)/2]=e[i];a=e.length-1,r=0;for(i=t;i<e.length-1;i++){for(l=1,s=t;s<a;s++){d=e[s].hasOwnProperty("children")?e[s].children.length:0,h=e[s+1].hasOwnProperty("children")?e[s+1].children.length:0;if(d>h){c=e[s];e[s]=e[s+1],e[s+1]=c,l=0,r=s}}if(a=r,1===l)break}for(i=0;i<n;i++)i%2===0?o[i/2+t]=e[i+t]:o[n-(i+1)/2+t]=e[i+t];return o},getMaxMin:function(e,t){return e[0]<t&&(e[0]=t),e[1]>t&&(e[1]=t),e},computeNodeCount:function(e){"bridge"===e?this.bridgeCount=this.bridgeCount+1:"hub"===e?this.hubCount=this.hubCount+1:"node"===e&&(this.nodeCount=this.nodeCount+1)},randomNum:function(e,t){switch(arguments.length){case 1:return Math.floor(Math.random()*e+1);case 2:return Math.floor(Math.random()*(t-e+1)+e);default:return 0}}}},F=I,L=(n("ed8d"),Object(i["a"])(F,m,g,!1,null,"45e907a3",null)),P=L.exports,R={name:"Home",components:{topology:P}},G=R,k=Object(i["a"])(G,c,u,!1,null,null,null),K=k.exports;o["default"].use(h["a"]);var D=[{path:"/",name:"Home",component:K}],U=new h["a"]({base:"demo",routes:D}),V=U,Y=n("2f62");o["default"].use(Y["a"]);var W=new Y["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Q=n("5c96"),J=n.n(Q);n("0fae");o["default"].use(J.a),o["default"].config.productionTip=!1,new o["default"]({router:V,store:W,render:function(e){return e(d)}}).$mount("#app")},"7c55":function(e,t,n){"use strict";n("2395")},"921c":function(e,t,n){"use strict";n("0377")},ed8d:function(e,t,n){"use strict";n("2636")}});
//# sourceMappingURL=app.39f8913e.js.map